<?xml version="1.0" encoding="utf-8" ?>
<Patch>

  <Operation Class="PatchOperationFindMod">
    <mods>
      <li>Vanilla Weapons Expanded - Laser</li>
    </mods>
    <match Class="PatchOperationSequence">
      <operations>

        <li Class="PatchOperationAdd">
          <xpath>Defs</xpath>
          <value>

        <!-- === Ammo Sets === -->

        <CombatExtended.AmmoSetDef>
          <defName>AmmoSet_SalvagedLaserPistol</defName>
          <label>laser charge</label>
          <ammoTypes>
            <Ammo_PlasmaCellRifle>Bullet_Laser_SalvagedLaserPistol</Ammo_PlasmaCellRifle>
          </ammoTypes>
        </CombatExtended.AmmoSetDef>

        <CombatExtended.AmmoSetDef>
          <defName>AmmoSet_LaserPistol</defName>
          <label>laser charge</label>
          <ammoTypes>
            <Ammo_PlasmaCellRifle>Bullet_Laser_LaserPistol</Ammo_PlasmaCellRifle>
          </ammoTypes>
        </CombatExtended.AmmoSetDef>

        <CombatExtended.AmmoSetDef>
          <defName>AmmoSet_LaserSMG</defName>
          <label>laser charge</label>
          <ammoTypes>
            <Ammo_PlasmaCellRifle>Bullet_Laser_LaserSMG</Ammo_PlasmaCellRifle>
          </ammoTypes>
        </CombatExtended.AmmoSetDef>

        <CombatExtended.AmmoSetDef>
          <defName>AmmoSet_SalvagedLaserRifle</defName>
          <label>laser charge</label>
          <ammoTypes>
            <Ammo_PlasmaCellRifle>Bullet_Laser_SalvagedLaserRifle</Ammo_PlasmaCellRifle>
          </ammoTypes>
        </CombatExtended.AmmoSetDef>

        <CombatExtended.AmmoSetDef>
          <defName>AmmoSet_LaserRifle</defName>
          <label>laser charge</label>
          <ammoTypes>
            <Ammo_PlasmaCellRifle>Bullet_Laser_LaserRifle</Ammo_PlasmaCellRifle>
          </ammoTypes>
        </CombatExtended.AmmoSetDef>

        <CombatExtended.AmmoSetDef>
          <defName>AmmoSet_LaserMiniGun</defName>
          <label>laser charge</label>
          <ammoTypes>
            <Ammo_PlasmaCellRifle>Bullet_Laser_LaserMiniGun</Ammo_PlasmaCellRifle>
          </ammoTypes>
        </CombatExtended.AmmoSetDef>

        <CombatExtended.AmmoSetDef>
          <defName>AmmoSet_LaserTeslaGun</defName>
          <label>laser charge</label>
          <ammoTypes>
            <Ammo_PlasmaCellRifle>Bullet_Laser_TeslaGun</Ammo_PlasmaCellRifle>
          </ammoTypes>
        </CombatExtended.AmmoSetDef>

        <!-- === Projectiles === -->

        <ThingDef Class="CombatExtended.Lasers.LaserBeamDefCE" ParentName="LaserBulletRed">
          <defName>Bullet_Laser_SalvagedLaserPistol</defName>
          <label>scav pistol laser beam</label>
          <graphicData>
            <color>(255,0,0)</color>
          </graphicData>            
          <projectile Class="CombatExtended.ProjectilePropertiesCE">
            <damageDef>Bullet</damageDef>
            <damageAmountBase>13</damageAmountBase>
            <armorPenetrationSharp>16</armorPenetrationSharp>
            <armorPenetrationBlunt>104.68</armorPenetrationBlunt>
          </projectile>      
        </ThingDef>

        <ThingDef Class="CombatExtended.Lasers.LaserBeamDefCE" ParentName="LaserBulletBlue">
          <defName>Bullet_Laser_LaserPistol</defName>
          <label>pistol laser beam</label>
          <graphicData>
            <color>(0,0,255)</color>
          </graphicData>  
          <projectile Class="CombatExtended.ProjectilePropertiesCE">
            <damageDef>Bullet</damageDef>
            <damageAmountBase>13</damageAmountBase>
            <armorPenetrationSharp>16</armorPenetrationSharp>
            <armorPenetrationBlunt>104.68</armorPenetrationBlunt>
          </projectile>         
        </ThingDef>

        <ThingDef Class="CombatExtended.Lasers.LaserBeamDefCE" ParentName="LaserBulletBlue">
          <defName>Bullet_Laser_LaserSMG</defName>
          <label>SMG laser beam</label>
          <graphicData>
            <color>(0,0,255)</color>
          </graphicData>                 
          <projectile Class="CombatExtended.ProjectilePropertiesCE">
            <damageDef>Bullet</damageDef>
            <damageAmountBase>13</damageAmountBase>
            <armorPenetrationSharp>16</armorPenetrationSharp>
            <armorPenetrationBlunt>104.68</armorPenetrationBlunt>
          </projectile>       
        </ThingDef>

        <ThingDef Class="CombatExtended.Lasers.LaserBeamDefCE" ParentName="LaserBulletRed">
          <defName>Bullet_Laser_SalvagedLaserRifle</defName>
          <label>scav rifle beam</label>
          <graphicData>
            <color>(255,0,0)</color>
          </graphicData>                                  
          <projectile Class="CombatExtended.ProjectilePropertiesCE">
            <damageDef>Bullet</damageDef>
            <damageAmountBase>13</damageAmountBase>
            <armorPenetrationSharp>16</armorPenetrationSharp>
            <armorPenetrationBlunt>104.68</armorPenetrationBlunt>
          </projectile>        
        </ThingDef>

        <ThingDef Class="CombatExtended.Lasers.LaserBeamDefCE" ParentName="LaserBulletBlue">
          <defName>Bullet_Laser_LaserRifle</defName>
          <label>rifle laser beam</label>     
          <graphicData>
            <color>(0,0,255)</color>
          </graphicData>                           
          <projectile Class="CombatExtended.ProjectilePropertiesCE">
            <damageDef>Bullet</damageDef>
            <damageAmountBase>13</damageAmountBase>
            <armorPenetrationSharp>16</armorPenetrationSharp>
            <armorPenetrationBlunt>104.68</armorPenetrationBlunt>
          </projectile>          
        </ThingDef>

        <ThingDef Class="CombatExtended.Lasers.LaserBeamDefCE" ParentName="LaserBulletBlue">
          <defName>Bullet_Laser_LaserMiniGun</defName>
          <label>minigun beam</label>
          <graphicData>
            <color>(0,0,255)</color>
          </graphicData>                                  
          <projectile Class="CombatExtended.ProjectilePropertiesCE">
            <damageDef>Bullet</damageDef>
            <damageAmountBase>13</damageAmountBase>
            <armorPenetrationSharp>16</armorPenetrationSharp>
            <armorPenetrationBlunt>104.68</armorPenetrationBlunt>
          </projectile>         
        </ThingDef>

        <ThingDef Class="CombatExtended.Lasers.LaserBeamDefCE" ParentName="LaserBulletWhite">
          <defName>Bullet_Laser_TeslaGun</defName>
          <label>tesla laser beam</label>
          <graphicData>
            <color>(255,255,255)</color>
          </graphicData>                                 
          <projectile Class="CombatExtended.ProjectilePropertiesCE">
            <damageDef>Bullet</damageDef>
            <damageAmountBase>13</damageAmountBase>
            <armorPenetrationSharp>16</armorPenetrationSharp>
            <armorPenetrationBlunt>104.68</armorPenetrationBlunt>
          </projectile>        
        </ThingDef>

          </value>
        </li>

      </operations>
    </match>
  </Operation>

</Patch>