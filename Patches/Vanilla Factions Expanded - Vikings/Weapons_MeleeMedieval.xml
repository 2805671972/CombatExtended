<?xml version="1.0" encoding="utf-8" ?>

<Patch>
	<Operation Class="PatchOperationFindMod">
	<mods>
		<li>Vanilla Factions Expanded - Vikings</li>
	</mods>
		<match Class="PatchOperationSequence">
		<operations>

        <!-- === Seax === -->

		<li Class="PatchOperationReplace">
			<xpath>Defs/ThingDef[defName="VFE_MeleeWeapon_Seax"]/tools</xpath>
			<value>
				<tools>
					<li Class="CombatExtended.ToolCE">
						<label>handle</label>
						<capacities>
							<li>Poke</li>
						</capacities>
						<power>1</power>
						<cooldownTime>1.19</cooldownTime>
						<armorPenetrationBlunt>0.2</armorPenetrationBlunt>
						<linkedBodyPartsGroup>Handle</linkedBodyPartsGroup>
					</li>
					<li Class="CombatExtended.ToolCE">
						<label>blade</label>
						<capacities>
							<li>Cut</li>
						</capacities>
						<power>11</power>
						<cooldownTime>1.33</cooldownTime>
						<armorPenetrationBlunt>0.288</armorPenetrationBlunt>
						<armorPenetrationSharp>0.26</armorPenetrationSharp>
						<linkedBodyPartsGroup>Blade</linkedBodyPartsGroup>
					</li>
					<li Class="CombatExtended.ToolCE">
						<label>point</label>
						<capacities>
							<li>Stab</li>
						</capacities>
						<power>16</power>
						<cooldownTime>1.26</cooldownTime>
						<chanceFactor>1.33</chanceFactor>
						<armorPenetrationBlunt>0.2</armorPenetrationBlunt>
						<armorPenetrationSharp>0.34</armorPenetrationSharp>
						<linkedBodyPartsGroup>Point</linkedBodyPartsGroup>
					</li>
				</tools>
			</value>
		</li>

		<li Class="PatchOperationAdd">
			<xpath>Defs/ThingDef[defName="VFE_MeleeWeapon_Seax"]/statBases</xpath>
			<value>
				<Bulk>1</Bulk>
				<MeleeCounterParryBonus>0.5</MeleeCounterParryBonus>
			</value>
		</li>

		<li Class="PatchOperationAdd">
			<xpath>Defs/ThingDef[defName="VFE_MeleeWeapon_Seax"]</xpath>
			<value>
				<equippedStatOffsets>
					<MeleeCritChance>0.63</MeleeCritChance>
					<MeleeParryChance>0.5</MeleeParryChance>
					<MeleeDodgeChance>0.13</MeleeDodgeChance>	
				</equippedStatOffsets>
			</value>
		</li>

		<!-- Add tags -->

		<li Class="PatchOperationSequence">
		<success>Always</success>
		<operations>
			<li Class="PatchOperationTest">
			<xpath>Defs/ThingDef[defName="VFE_MeleeWeapon_Seax"]/weaponTags</xpath>
			<success>Invert</success>
			</li>
			<li Class="PatchOperationAdd">
			<xpath>Defs/ThingDef[defName="VFE_MeleeWeapon_Seax"]</xpath>
			<value>
				<weaponTags />
			</value>
			</li>
		</operations>
		</li>

		<li Class="PatchOperationAdd">
			<xpath>Defs/ThingDef[defName="VFE_MeleeWeapon_Seax"]/weaponTags</xpath>
			<value>
				<li>CE_OneHandedWeapon</li>
			</value>
		</li>

        <!-- === Bearded Axe === -->

        <li Class="PatchOperationReplace">
          <xpath>/Defs/ThingDef[defName="VFE_MeleeWeapon_BeardedAxe"]/tools</xpath>
          <value>
            <tools>
              <li Class="CombatExtended.ToolCE">
                <label>handle</label>
                <capacities>
                  <li>Poke</li>
                </capacities>
                <power>3</power>
                <cooldownTime>1.66</cooldownTime>
                <chanceFactor>0.10</chanceFactor>
                <armorPenetrationBlunt>0.75</armorPenetrationBlunt>
                <linkedBodyPartsGroup>Handle</linkedBodyPartsGroup>
              </li>
              <li Class="CombatExtended.ToolCE">
                <label>edge</label>
                <capacities>
                  <li>Cut</li>
                </capacities>
                <power>24</power>
                <cooldownTime>3.49</cooldownTime>
                <chanceFactor>0.30</chanceFactor>
                <armorPenetrationBlunt>3</armorPenetrationBlunt>
                <armorPenetrationSharp>0.6</armorPenetrationSharp>
                <linkedBodyPartsGroup>Edge</linkedBodyPartsGroup>
              </li>
            </tools>
          </value>
        </li>

        <li Class="PatchOperationAdd">
          <xpath>/Defs/ThingDef[defName="VFE_MeleeWeapon_BeardedAxe"]/statBases</xpath>
          <value>
            <Bulk>4</Bulk>
            <MeleeCounterParryBonus>0.20</MeleeCounterParryBonus>
          </value>
        </li>

        <li Class="PatchOperationAdd">
          <xpath>/Defs/ThingDef[defName="VFE_MeleeWeapon_BeardedAxe"]/equippedStatOffsets</xpath>
          <value>
            <MeleeCritChance>0.03</MeleeCritChance>
            <MeleeParryChance>0.20</MeleeParryChance>
            <MeleeDodgeChance>0.27</MeleeDodgeChance>
          </value>
        </li>

        <li Class="PatchOperationAdd">
          <xpath>/Defs/ThingDef[defName="VFE_MeleeWeapon_BeardedAxe"]/weaponTags</xpath>
          <value>
            <li>CE_OneHandedWeapon</li>
          </value>
        </li>

        <!-- === Dane Axe === -->

        <li Class="PatchOperationReplace">
          <xpath>/Defs/ThingDef[defName="VFE_MeleeWeapon_DaneAxe"]/tools</xpath>
          <value>
            <tools>
              <li Class="CombatExtended.ToolCE">
                <label>handle</label>
                <capacities>
                  <li>Poke</li>
                </capacities>
                <power>4</power>
                <cooldownTime>1.78</cooldownTime>
                <chanceFactor>0.10</chanceFactor>
                <armorPenetrationBlunt>1</armorPenetrationBlunt>
                <linkedBodyPartsGroup>Handle</linkedBodyPartsGroup>
              </li>
              <li Class="CombatExtended.ToolCE">
                <label>edge</label>
                <capacities>
                  <li>Cut</li>
                </capacities>
                <power>31</power>
                <cooldownTime>4.09</cooldownTime>
                <chanceFactor>0.30</chanceFactor>
                <armorPenetrationBlunt>4.84</armorPenetrationBlunt>
                <armorPenetrationSharp>0.97</armorPenetrationSharp>
                <linkedBodyPartsGroup>Edge</linkedBodyPartsGroup>
              </li>
            </tools>
          </value>
        </li>

        <li Class="PatchOperationAdd">
          <xpath>/Defs/ThingDef[defName="VFE_MeleeWeapon_DaneAxe"]/statBases</xpath>
          <value>
            <Bulk>8</Bulk>
            <MeleeCounterParryBonus>1</MeleeCounterParryBonus>
          </value>
        </li>

        <li Class="PatchOperationAdd">
          <xpath>/Defs/ThingDef[defName="VFE_MeleeWeapon_DaneAxe"]/equippedStatOffsets</xpath>
          <value>
            <MeleeCritChance>0.06</MeleeCritChance>
            <MeleeParryChance>0.75</MeleeParryChance>
            <MeleeDodgeChance>0.50</MeleeDodgeChance>
          </value>
        </li>

		</operations>
		</match>
	</Operation>
</Patch>
