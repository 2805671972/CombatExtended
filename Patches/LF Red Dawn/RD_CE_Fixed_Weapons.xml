<?xml version="1.0" encoding="UTF-8"?>
<Patch>
	<Operation Class="PatchOperationFindMod">
		<mods>
			<li>[LF] Red Dawn</li>
		</mods>
		<match Class="PatchOperationSequence">
			<operations>

		<!-- ========== Mounted DShK Gun ========== -->

		<li Class="CombatExtended.PatchOperationMakeGunCECompatible">
			<defName>Sov_Gun_DShK</defName>
			<statBases>
				<RangedWeapon_Cooldown>0.36</RangedWeapon_Cooldown>
				<SightsEfficiency>1.00</SightsEfficiency>
				<ShotSpread>0.01</ShotSpread>
				<SwayFactor>1.57</SwayFactor>
				<Bulk>18.54</Bulk>
			</statBases>
			<Properties>
				<recoilAmount>1.33</recoilAmount>
				<verbClass>CombatExtended.Verb_ShootCE</verbClass>
				<hasStandardCommand>true</hasStandardCommand>
				<defaultProjectile>Bullet_127x108mm_FMJ</defaultProjectile>
				<warmupTime>1.3</warmupTime>
				<range>75</range>
				<ticksBetweenBurstShots>6</ticksBetweenBurstShots>
				<burstShotCount>10</burstShotCount>
				<soundCast>DSHKshoot</soundCast>
				<soundCastTail>GunTail_Heavy</soundCastTail>
				<targetParams>
					<canTargetLocations>true</canTargetLocations>
				</targetParams>
				<muzzleFlashScale>18</muzzleFlashScale>
				<recoilPattern>Mounted</recoilPattern>
			</Properties>
			<AmmoUser>
				<magazineSize>100</magazineSize>
				<reloadTime>7.8</reloadTime>
				<ammoSet>AmmoSet_127x108mm</ammoSet>
			</AmmoUser>
			<FireModes>
				<aiUseBurstMode>FALSE</aiUseBurstMode>
				<aiAimMode>SuppressFire</aiAimMode>
				<aimedBurstShotCount>5</aimedBurstShotCount>
			</FireModes>
			<weaponTags>
				<li>TurretGun</li>
			</weaponTags>
		</li>

		<li Class="PatchOperationReplace">
			<xpath>Defs/ThingDef[defName="Sov_Turret_DShK"]/specialDisplayRadius</xpath>
			<value>
				<specialDisplayRadius>75</specialDisplayRadius>
			</value>
		</li>

		<li Class="PatchOperationReplace">
			<xpath>Defs/ThingDef[defName="Sov_Turret_DShK"]/statBases/WorkToBuild</xpath>
			<value>
				<WorkToBuild>59000</WorkToBuild>
			</value>
		</li>

		<!-- ========== Mounted NSV Gun ========== -->

		<li Class="CombatExtended.PatchOperationMakeGunCECompatible">
			<defName>Sov_Gun_NSV</defName>
			<statBases>
				<RangedWeapon_Cooldown>0.36</RangedWeapon_Cooldown>
				<SightsEfficiency>1.00</SightsEfficiency>
				<ShotSpread>0.01</ShotSpread>
				<SwayFactor>1.41</SwayFactor>
				<Bulk>18.54</Bulk>
			</statBases>
			<Properties>
				<recoilAmount>1.0</recoilAmount>
				<verbClass>CombatExtended.Verb_ShootCE</verbClass>
				<hasStandardCommand>true</hasStandardCommand>
				<defaultProjectile>Bullet_127x108mm_FMJ</defaultProjectile>
				<warmupTime>1.3</warmupTime>
				<range>75</range>
				<ticksBetweenBurstShots>6</ticksBetweenBurstShots>
				<burstShotCount>10</burstShotCount>
				<soundCast>NSVshoot</soundCast>
				<soundCastTail>GunTail_Heavy</soundCastTail>
				<targetParams>
					<canTargetLocations>true</canTargetLocations>
				</targetParams>
				<muzzleFlashScale>14</muzzleFlashScale>
				<recoilPattern>Mounted</recoilPattern>
			</Properties>
			<AmmoUser>
				<magazineSize>100</magazineSize>
				<reloadTime>7.8</reloadTime>
				<ammoSet>AmmoSet_127x108mm</ammoSet>
			</AmmoUser>
			<FireModes>
				<aiUseBurstMode>FALSE</aiUseBurstMode>
				<aiAimMode>SuppressFire</aiAimMode>
				<aimedBurstShotCount>5</aimedBurstShotCount>
			</FireModes>
			<weaponTags>
				<li>TurretGun</li>
			</weaponTags>
		</li>

		<li Class="PatchOperationReplace">
			<xpath>Defs/ThingDef[defName="Sov_Turret_NSV"]/specialDisplayRadius</xpath>
			<value>
				<specialDisplayRadius>75</specialDisplayRadius>
			</value>
		</li>

		<li Class="PatchOperationReplace">
			<xpath>Defs/ThingDef[defName="Sov_Turret_NSV"]/statBases/WorkToBuild</xpath>
			<value>
				<WorkToBuild>60500</WorkToBuild>
			</value>
		</li>

		<!-- ========== Mounted AGS-17 Turret ========== -->

		<li Class="CombatExtended.PatchOperationMakeGunCECompatible">
			<defName>Sov_Gun_AGS</defName>
			<statBases>
				<RangedWeapon_Cooldown>0.36</RangedWeapon_Cooldown>
				<SightsEfficiency>1.00</SightsEfficiency>
				<ShotSpread>0.09</ShotSpread>
				<SwayFactor>1.49</SwayFactor>
				<Bulk>12.90</Bulk>
			</statBases>
			<Properties>
				<recoilAmount>1.67</recoilAmount>
				<verbClass>CombatExtended.Verb_ShootCE</verbClass>
				<hasStandardCommand>true</hasStandardCommand>
				<defaultProjectile>Bullet_30x29mmGrenade_HE</defaultProjectile>
				<warmupTime>1.35</warmupTime>
				<range>62</range>
				<minRange>6</minRange>
				<ticksBetweenBurstShots>9</ticksBetweenBurstShots>
				<burstShotCount>6</burstShotCount>
				<soundCast>AGSshoot</soundCast>
				<soundCastTail>GunTail_Heavy</soundCastTail>
				<targetParams>
					<canTargetLocations>true</canTargetLocations>
				</targetParams>
				<muzzleFlashScale>16</muzzleFlashScale>
				<recoilPattern>Mounted</recoilPattern>
			</Properties>
			<AmmoUser>
				<magazineSize>48</magazineSize>
				<reloadTime>7.8</reloadTime>
				<ammoSet>AmmoSet_30x29mmGrenade</ammoSet>
			</AmmoUser>
			<FireModes>
				<aiUseBurstMode>FALSE</aiUseBurstMode>
				<aiAimMode>SuppressFire</aiAimMode>
				<aimedBurstShotCount>3</aimedBurstShotCount>
			</FireModes>
			<weaponTags>
				<li>TurretGun</li>
			</weaponTags>
		</li>

		<li Class="PatchOperationReplace">
			<xpath>Defs/ThingDef[defName="RD_Turret_AGS"]/specialDisplayRadius</xpath>
			<value>
				<specialDisplayRadius>62</specialDisplayRadius>
			</value>
		</li>

		<li Class="PatchOperationReplace">
			<xpath>Defs/ThingDef[defName="RD_Turret_AGS"]/statBases/WorkToBuild</xpath>
			<value>
				<WorkToBuild>40000</WorkToBuild>
			</value>
		</li>

		<!-- ========== Konkur launcher ========== -->

		<li Class="CombatExtended.PatchOperationMakeGunCECompatible">
			<defName>Artillery_KonkursGun</defName>
			<statBases>
				<RangedWeapon_Cooldown>2.5</RangedWeapon_Cooldown>
				<SightsEfficiency>4.0</SightsEfficiency>
				<ShotSpread>0.01</ShotSpread>
				<SwayFactor>1.75</SwayFactor>
				<Bulk>12.90</Bulk>
			</statBases>
			<Properties>
				<recoilAmount>1</recoilAmount>
				<verbClass>CombatExtended.Verb_ShootCE</verbClass>
				<hasStandardCommand>true</hasStandardCommand>
				<defaultProjectile>Bullet_BGM71_HEAT</defaultProjectile>
				<warmupTime>3.75</warmupTime>
					<ai_AvoidFriendlyFireRadius>3</ai_AvoidFriendlyFireRadius>
				<range>100</range>
				<minRange>6</minRange>
				<soundCast>KonkursFire</soundCast>
				<soundCastTail>GunTail_Heavy</soundCastTail>
				<targetParams>
					<canTargetLocations>true</canTargetLocations>
				</targetParams>
				<muzzleFlashScale>16</muzzleFlashScale>
				<recoilPattern>Mounted</recoilPattern>
			</Properties>
			<AmmoUser>
				<magazineSize>1</magazineSize>
				<reloadTime>7.9</reloadTime>
				<ammoSet>AmmoSet_BGM71</ammoSet>
			</AmmoUser>
			<FireModes>
				<aiUseBurstMode>FALSE</aiUseBurstMode>
				<aiAimMode>AimedShot</aiAimMode>
			</FireModes>
			<weaponTags>
				<li>TurretGun</li>
			</weaponTags>
		</li>

		<li Class="PatchOperationReplace">
			<xpath>Defs/ThingDef[defName="Turret_KonkursATGM"]/specialDisplayRadius</xpath>
			<value>
				<specialDisplayRadius>100</specialDisplayRadius>
			</value>
		</li>

		<li Class="PatchOperationReplace">
			<xpath>Defs/ThingDef[defName="Turret_KonkursATGM"]/statBases/WorkToBuild</xpath>
			<value>
				<WorkToBuild>52000</WorkToBuild>
			</value>
		</li>


		<!-- ========== SPG ========== -->

		<li Class="CombatExtended.PatchOperationMakeGunCECompatible">
			<defName>Artillery_KonkursGun</defName>
			<statBases>
				<RangedWeapon_Cooldown>2.5</RangedWeapon_Cooldown>
				<SightsEfficiency>4.0</SightsEfficiency>
				<ShotSpread>0.01</ShotSpread>
				<SwayFactor>1.75</SwayFactor>
				<Bulk>12.90</Bulk>
			</statBases>
			<Properties>
				<recoilAmount>1</recoilAmount>
				<verbClass>CombatExtended.Verb_ShootCE</verbClass>
				<hasStandardCommand>true</hasStandardCommand>
				<defaultProjectile>Bullet_BGM71_HEAT</defaultProjectile>
				<warmupTime>3.75</warmupTime>
					<ai_AvoidFriendlyFireRadius>3</ai_AvoidFriendlyFireRadius>
				<range>100</range>
				<minRange>6</minRange>
				<soundCast>KonkursFire</soundCast>
				<soundCastTail>GunTail_Heavy</soundCastTail>
				<targetParams>
					<canTargetLocations>true</canTargetLocations>
				</targetParams>
				<muzzleFlashScale>16</muzzleFlashScale>
				<recoilPattern>Mounted</recoilPattern>
			</Properties>
			<AmmoUser>
				<magazineSize>1</magazineSize>
				<reloadTime>7.9</reloadTime>
				<ammoSet>AmmoSet_BGM71</ammoSet>
			</AmmoUser>
			<FireModes>
				<aiUseBurstMode>FALSE</aiUseBurstMode>
				<aiAimMode>AimedShot</aiAimMode>
			</FireModes>
			<weaponTags>
				<li>TurretGun</li>
			</weaponTags>
		</li>

		<li Class="PatchOperationReplace">
			<xpath>Defs/ThingDef[defName="Turret_KonkursATGM"]/specialDisplayRadius</xpath>
			<value>
				<specialDisplayRadius>100</specialDisplayRadius>
			</value>
		</li>

		<li Class="PatchOperationReplace">
			<xpath>Defs/ThingDef[defName="Turret_KonkursATGM"]/statBases/WorkToBuild</xpath>
			<value>
				<WorkToBuild>52000</WorkToBuild>
			</value>
		</li>

		<!-- == Shared patches == -->

			<li Class="PatchOperationReplace">
				<xpath>Defs/ThingDef[defName = "RN2Turret_SentryGun" or
				defName = "RN2Gun_M60Mounted_MG" or
				defName = "RN2Gun_MK19_GL" or
				defName = "Turret_KonkursATGM" or
				defName = "RN2Gun_M2Browning_MG"]/fillPercent</xpath>
					<value>
						<fillPercent>0.85</fillPercent>
					</value>
			</li>

		<li Class="PatchOperationAdd">
			<xpath>Defs/ThingDef[defName="Sov_Turret_DShK"
						or defName="Sov_Turret_NSV"
						or defName="RD_Turret_AGS"
						or defName="Turret_KonkursATGM"]/statBases</xpath>
			<value>
				<ShootingAccuracyTurret>2.0</ShootingAccuracyTurret>
			</value>
		</li>

		<li Class="PatchOperationReplace">
			<xpath>Defs/ThingDef[defName="Sov_Turret_DShK"
						or defName="Sov_Turret_NSV"
						or defName="RD_Turret_AGS"
						or defName="Turret_KonkursATGM"]/thingClass</xpath>
			<value>
				<thingClass>CombatExtended.Building_TurretGunCE</thingClass>
			</value>
		</li>

		<li Class="PatchOperationRemove">
			<xpath>Defs/ThingDef[defName="Sov_Turret_DShK"
						or defName="Sov_Turret_NSV"
						or defName="RD_Turret_AGS"
						or defName="Turret_KonkursATGM"
		]/comps/li[@Class = "CompProperties_Refuelable"]</xpath>
		</li>

		<li Class="PatchOperationReplace">
			<xpath>Defs/ThingDef[defName="Sov_Turret_DShK"
						or defName="Sov_Turret_NSV"
						or defName="RD_Turret_AGS"
		]/researchPrerequisites</xpath>
			<value>
				<researchPrerequisites>
					<li>CE_TurretHeavyWeapons</li>
				</researchPrerequisites>
			</value>
		</li>

		<li Class="PatchOperationReplace">
			<xpath>Defs/ThingDef[
			defName="Turret_KonkursATGM"
		]/researchPrerequisites</xpath>
			<value>
				<researchPrerequisites>
					<li>CE_TurretHeavyWeapons</li>
					<li>CE_Launchers</li>
				</researchPrerequisites>
			</value>
		</li>

			</operations>
		</match>
	</Operation>
</Patch>
