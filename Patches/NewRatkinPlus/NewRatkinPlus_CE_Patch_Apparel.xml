<?xml version="1.0" encoding="utf-8" ?>
<Patch>
	<Operation Class="PatchOperationSequence">
		<success>Always</success>
		<operations>

			<li Class="CombatExtended.PatchOperationFindMod">
				<modName>NewRatkinPlus</modName>
			</li>

			<!-- Apron Skirt -->

			<li Class="PatchOperationAdd">
				<xpath>Defs/ThingDef[defName="RK_ApronSkirt"]/statBases</xpath>
				<value>
					<Bulk>6</Bulk>
					<WornBulk>5</WornBulk>
				</value>
			</li>

			<!-- Summer Dress -->

			<li Class="PatchOperationAdd">
				<xpath>Defs/ThingDef[defName="RK_SummerDress"]/statBases</xpath>
				<value>
					<Bulk>1</Bulk>
					<WornBulk>2</WornBulk>
				</value>
			</li>

			<!-- Straw Hat -->

			<li Class="PatchOperationAdd">
				<xpath>Defs/ThingDef[defName="RK_StrawHat"]/statBases</xpath>
				<value>
					<Bulk>1</Bulk>
					<WornBulk>1.5</WornBulk>
				</value>
			</li>

			<!-- Muffler -->

			<li Class="PatchOperationAdd">
				<xpath>Defs/ThingDef[defName="RK_Muffler"]/statBases</xpath>
				<value>
					<Bulk>1</Bulk>
					<WornBulk>1</WornBulk>
				</value>
			</li>

			<!-- Cardigan -->

			<li Class="PatchOperationAdd">
				<xpath>Defs/ThingDef[defName="RK_Cardigan"]/statBases</xpath>
				<value>
					<Bulk>2</Bulk>
					<WornBulk>1</WornBulk>
				</value>
			</li>

			<!-- Cross Back -->

			<li Class="PatchOperationAdd">
				<xpath>Defs/ThingDef[defName="RK_CrossBack"]/statBases</xpath>
				<value>
					<Bulk>2</Bulk>
					<WornBulk>1</WornBulk>
				</value>
			</li>

			<li Class="PatchOperationAdd">
				<xpath>Defs/ThingDef[defName="RK_CrossBack"]/equippedStatOffsets</xpath>
				<value>
					<CarryBulk>20</CarryBulk>
				</value>
			</li>
			
			<!-- Backpack -->

			<li Class="PatchOperationAdd">
				<xpath>Defs/ThingDef[defName="RK_Backpack"]/statBases</xpath>
				<value>
					<Bulk>3</Bulk>
					<WornBulk>1</WornBulk>
				</value>
			</li>

			<li Class="PatchOperationAdd">
				<xpath>Defs/ThingDef[defName="RK_Backpack"]/equippedStatOffsets</xpath>
				<value>
					<CarryBulk>30</CarryBulk>
				</value>
			</li>

			<!-- Ratkin Red Outfit / Worker Wear -->

			<li Class="PatchOperationAdd">
				<xpath>Defs/ThingDef[defName="RK_WorkerWear"]/statBases</xpath>
				<value>
					<Bulk>6</Bulk>
					<WornBulk>5</WornBulk>
				</value>
			</li>

			<!-- Research Gown -->

			<li Class="PatchOperationAdd">
				<xpath>Defs/ThingDef[defName="RK_ResearchGown"]/statBases</xpath>
				<value>
					<Bulk>6</Bulk>
					<WornBulk>5</WornBulk>
				</value>
			</li>

			<!-- Explorer Wear -->

			<li Class="PatchOperationAdd">
				<xpath>Defs/ThingDef[defName="RK_ExplorerWear"]/statBases</xpath>
				<value>
					<Bulk>6</Bulk>
					<WornBulk>5</WornBulk>
				</value>
			</li>

			<!-- Explorer Hat -->

			<li Class="PatchOperationAdd">
				<xpath>Defs/ThingDef[defName="RK_ExplorerHat"]/statBases</xpath>
				<value>
					<Bulk>3</Bulk>
					<WornBulk>1</WornBulk>
					<ArmorRating_Sharp>0.375</ArmorRating_Sharp>
					<ArmorRating_Blunt>0.143</ArmorRating_Blunt>
				</value>
			</li>

			<!-- Chef Suit -->

			<li Class="PatchOperationAdd">
				<xpath>Defs/ThingDef[defName="RK_ChefSuit"]/statBases</xpath>
				<value>
					<Bulk>6</Bulk>
					<WornBulk>5</WornBulk>
				</value>
			</li>

			<!-- Gaurden Uniform -->

			<li Class="PatchOperationAdd">
				<xpath>Defs/ThingDef[defName="RK_GaurdenUniform"]/statBases</xpath>
				<value>
					<Bulk>6</Bulk>
					<WornBulk>5</WornBulk>
				</value>
			</li>

			<!-- Winter Robe -->

			<li Class="PatchOperationAdd">
				<xpath>Defs/ThingDef[defName="RK_WinterRobe"]/statBases</xpath>
				<value>
					<Bulk>6</Bulk>
					<WornBulk>4</WornBulk>
					<ArmorRating_Sharp>0.1</ArmorRating_Sharp>
					<ArmorRating_Blunt>0.1</ArmorRating_Blunt>
				</value>
			</li>

			<!-- Ratkin Outdoor Backpack -->

			<li Class="PatchOperationAdd">
				<xpath>Defs/ThingDef[defName="RK_OutdoorBackpack"]/statBases</xpath>
				<value>
					<Bulk>4</Bulk>
					<WornBulk>1</WornBulk>
				</value>
			</li>

			<li Class="PatchOperationAdd">
				<xpath>Defs/ThingDef[defName="RK_OutdoorBackpack"]/equippedStatOffsets</xpath>
				<value>
					<CarryBulk>40</CarryBulk>
				</value>
			</li>

			<!-- Ratkin Order Uniform -->

			<li Class="PatchOperationAdd">
				<xpath>Defs/ThingDef[defName="RK_OrderUniform"]/statBases</xpath>
				<value>
					<Bulk>6</Bulk>
					<WornBulk>5</WornBulk>
				</value>
			</li>

			<!-- Ratkin Military Helmet -->

			<li Class="PatchOperationAdd">
				<xpath>Defs/ThingDef[defName="RK_BulletProofHelmet"]/statBases</xpath>
				<value>
					<Bulk>4</Bulk>
					<WornBulk>1</WornBulk>
					<ArmorRating_Heat>0.54</ArmorRating_Heat>
				</value>
			</li>

			<li Class="PatchOperationReplace">
				<xpath>Defs/ThingDef[defName="RK_BulletProofHelmet"]/statBases/ArmorRating_Sharp</xpath>
				<value>
					<ArmorRating_Sharp>0.525</ArmorRating_Sharp>
				</value>
			</li>

			<li Class="PatchOperationReplace">
				<xpath>Defs/ThingDef[defName="RK_BulletProofHelmet"]/statBases/ArmorRating_Blunt</xpath>
				<value>
					<ArmorRating_Blunt>0.2</ArmorRating_Blunt>
				</value>
			</li>

			<!-- Flatcolor Coat -->

			<li Class="PatchOperationAdd">
				<xpath>Defs/ThingDef[defName="RK_FlatColorCoat"]/statBases</xpath>
				<value>
					<Bulk>5</Bulk>
					<WornBulk>1</WornBulk>
				</value>
			</li>

			<!-- Frill One-piece -->

			<li Class="PatchOperationAdd">
				<xpath>Defs/ThingDef[defName="RK_FrillOnepiece"]/statBases</xpath>
				<value>
					<Bulk>6</Bulk>
					<WornBulk>5</WornBulk>
				</value>
			</li>

			<!-- Sister's Dress (Nun Habit) -->

			<li Class="PatchOperationAdd">
				<xpath>Defs/ThingDef[defName="RK_SistersDerss"]/statBases</xpath>
				<value>
					<Bulk>4</Bulk>
					<WornBulk>4</WornBulk>
				</value>
			</li>

			<!-- Ratkin Package (Sack) -->

			<li Class="PatchOperationAdd">
				<xpath>Defs/ThingDef[defName="RK_Sack"]/statBases</xpath>
				<value>
					<Bulk>5</Bulk>
					<WornBulk>2</WornBulk>
				</value>
			</li>

			<li Class="PatchOperationAdd">
				<xpath>Defs/ThingDef[defName="RK_Sack"]/equippedStatOffsets</xpath>
				<value>
					<CarryBulk>50</CarryBulk>
				</value>
			</li>

			<!-- Ratkin Battlesuit -->

			<li Class="PatchOperationAdd">
				<xpath>Defs/ThingDef[defName="RK_BattleSuit"]/statBases</xpath>
				<value>
					<Bulk>8</Bulk>
					<WornBulk>6</WornBulk>
				</value>
			</li>

			<li Class="PatchOperationReplace">
				<xpath>Defs/ThingDef[defName="RK_BattleSuit"]/statBases/ArmorRating_Sharp</xpath>
				<value>
					<ArmorRating_Sharp>0.7</ArmorRating_Sharp>
				</value>
			</li>

			<li Class="PatchOperationReplace">
				<xpath>Defs/ThingDef[defName="RK_BattleSuit"]/statBases/ArmorRating_Blunt</xpath>
				<value>
					<ArmorRating_Blunt>0.25</ArmorRating_Blunt>
				</value>
			</li>

			<li Class="PatchOperationReplace">
				<xpath>Defs/ThingDef[defName="RK_BattleSuit"]/statBases/ArmorRating_Heat</xpath>
				<value>
					<ArmorRating_Heat>0.36</ArmorRating_Heat>
				</value>
			</li>

			<!-- Ratkin Mask Helmet -->

			<li Class="PatchOperationAdd">
				<xpath>Defs/ThingDef[defName="RK_Mask"]/statBases</xpath>
				<value>
					<Bulk>5</Bulk>
					<WornBulk>2</WornBulk>
				</value>
			</li>

			<li Class="PatchOperationReplace">
				<xpath>Defs/ThingDef[defName="RK_Mask"]/statBases/ArmorRating_Sharp</xpath>
				<value>
					<ArmorRating_Sharp>0.525</ArmorRating_Sharp>
				</value>
			</li>

			<li Class="PatchOperationReplace">
				<xpath>Defs/ThingDef[defName="RK_Mask"]/statBases/ArmorRating_Blunt</xpath>
				<value>
					<ArmorRating_Blunt>0.2</ArmorRating_Blunt>
				</value>
			</li>

			<li Class="PatchOperationReplace">
				<xpath>Defs/ThingDef[defName="RK_Mask"]/statBases/ArmorRating_Heat</xpath>
				<value>
					<ArmorRating_Heat>0.54</ArmorRating_Heat>
				</value>
			</li>

			<!-- Ratkin Plate Armor -->

			<li Class="PatchOperationAdd">
				<xpath>Defs/ThingDef[defName="RK_Plate"]/statBases</xpath>
				<value>
					<Bulk>10</Bulk>
					<WornBulk>5</WornBulk>
				</value>
			</li>

			<!-- Ratkin Plate Helmet (A) -->

			<li Class="PatchOperationAdd">
				<xpath>Defs/ThingDef[defName="RK_PlateHelmA"]/statBases</xpath>
				<value>
					<Bulk>4</Bulk>
					<WornBulk>1</WornBulk>
				</value>
			</li>

			<!-- Ratkin Plate Helmet (B) -->

			<li Class="PatchOperationAdd">
				<xpath>Defs/ThingDef[defName="RK_PlateHelmB"]/statBases</xpath>
				<value>
					<Bulk>4</Bulk>
					<WornBulk>1</WornBulk>
				</value>
			</li>

			<!-- Ratkin Plate Helmet (C) -->

			<li Class="PatchOperationAdd">
				<xpath>Defs/ThingDef[defName="RK_PlateHelmC"]/statBases</xpath>
				<value>
					<Bulk>4</Bulk>
					<WornBulk>1</WornBulk>
				</value>
			</li>

			<!-- Santa Robe -->

			<li Class="PatchOperationAdd">
				<xpath>Defs/ThingDef[defName="RK_SantaRobe"]/statBases</xpath>
				<value>
					<Bulk>6</Bulk>
					<WornBulk>4</WornBulk>
					<ArmorRating_Sharp>0.1</ArmorRating_Sharp>
					<ArmorRating_Blunt>0.1</ArmorRating_Blunt>
				</value>
			</li>

			<!-- Santa Package (Sack) -->

			<li Class="PatchOperationAdd">
				<xpath>Defs/ThingDef[defName="RK_SantaSack"]/statBases</xpath>
				<value>
					<Bulk>6</Bulk>
					<WornBulk>2</WornBulk>
				</value>
			</li>

			<li Class="PatchOperationAdd">
				<xpath>Defs/ThingDef[defName="RK_SantaSack"]/equippedStatOffsets</xpath>
				<value>
					<CarryBulk>60</CarryBulk>
				</value>
			</li>
			
			<!-- Remove Ratkin mod's own custom CarryCapacity stat, as we are using CE's own CarryBulk instead -->
			
			<li Class="PatchOperationRemove">
				<xpath>Defs/ThingDef[
					defName="RK_CrossBack" or 
					defName="RK_Backpack" or 
					defName="RK_OutdoorBackpack" or 
					defName="RK_Sack" or 
					defName="RK_SantaSack"
				]/equippedStatOffsets/CarryingCapacity
				</xpath>
			</li>

		</operations>
	</Operation>
</Patch>