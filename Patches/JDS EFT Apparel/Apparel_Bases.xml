<?xml version="1.0" encoding="utf-8" ?>
<Patch>

  <Operation Class="PatchOperationFindMod">
    <mods>
      <li>[JDS] EFT Apparel</li>
    </mods>
    <match Class="PatchOperationSequence">
      <operations>

        <!-- === Military Cap / Baseball Caps / Beanie / Ushanka ===  -->
        <li Class="PatchOperationAdd">
          <xpath>Defs</xpath>
          <value>
            <ThingDef Name="EFTHeadgearCaps" ParentName="JDSFrontierFaceMaskBase" Abstract="True">
              <apparel Inherit="False">
                <bodyPartGroups>
                  <li>UpperHead</li>
                </bodyPartGroups>
                <layers>
                  <li>Overhead</li>
                </layers>
                <tags>
                  <li>MilitaryHeadgear</li>
                </tags>
                <defaultOutfitTags>
                  <li>Soldier</li>
                </defaultOutfitTags>
              </apparel>
            </ThingDef>

            <ThingDef Name="EFTHeadgearBeanie" ParentName="JDSFrontierFaceMaskBase" Abstract="True">
              <apparel Inherit="False">
                <bodyPartGroups>
                  <li>UpperHead</li>
                </bodyPartGroups>
                <layers>
                  <li>MiddleHead</li>
                </layers>
                <tags>
                  <li>MilitaryHeadgear</li>
                </tags>
                <defaultOutfitTags>
                  <li>Soldier</li>
                </defaultOutfitTags>
              </apparel>
            </ThingDef>
          </value>
        </li>        

        <!-- === Helmets - Shieldless === -->
        <li Class="PatchOperationReplace">
          <xpath>/Defs/ThingDef[@Name="JDSFrontierHeadgearBase"]/apparel</xpath>
          <value>
            <apparel>
              <bodyPartGroups>
                <li>UpperHead</li>
              </bodyPartGroups>
              <layers>
                <li>Overhead</li>
                <li>MiddleHead</li>
              </layers>
              <tags>
                <li>MilitaryHeadgear</li>
              </tags>
              <defaultOutfitTags>
                <li>Soldier</li>
              </defaultOutfitTags>
              <useDeflectMetalEffect>true</useDeflectMetalEffect>
            </apparel>
          </value>
        </li>

        <!-- === Helmets - Shielded / Eye Shield === -->
        <li Class="PatchOperationAdd">
          <xpath>Defs</xpath>
          <value>
            <ThingDef Name="EFTHeadgearShield" ParentName="JDSFrontierHeadgearBase" Abstract="True">
              <apparel Inherit="False">
                <bodyPartGroups>
                  <li>FullHead</li>
                </bodyPartGroups>
                <layers>
                  <li>Overhead</li>
                  <li>MiddleHead</li>
                </layers>
                <tags>
                  <li>MilitaryHeadgear</li>
                </tags>
                <defaultOutfitTags>
                  <li>Soldier</li>
                </defaultOutfitTags>
                <useDeflectMetalEffect>true</useDeflectMetalEffect>
              </apparel>
            </ThingDef>

            <ThingDef Name="EFTHeadgearEyeShield" ParentName="JDSFrontierHeadgearBase" Abstract="True">
              <apparel Inherit="False">
                <bodyPartGroups>
                  <li>UpperHead</li>
                  <li>Eyes</li>
                </bodyPartGroups>
                <layers>
                  <li>Overhead</li>
                  <li>MiddleHead</li>
                </layers>
                <tags>
                  <li>MilitaryHeadgear</li>
                </tags>
                <defaultOutfitTags>
                  <li>Soldier</li>
                </defaultOutfitTags>
                <useDeflectMetalEffect>true</useDeflectMetalEffect>
              </apparel>
            </ThingDef>
          </value>
        </li>

      </operations>
    </match>
  </Operation>

</Patch>