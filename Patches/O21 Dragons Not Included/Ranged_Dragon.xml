<?xml version="1.0" encoding="utf-8" ?>
<Patch>
	<Operation Class="PatchOperationFindMod">
		<mods>
			<li>[O21] Dragons Not Included</li>
		</mods>
		<match Class="PatchOperationSequence">
			<operations>

			<!-- Melee -->
			<li Class="PatchOperationReplace">
			<xpath>/Defs/ThingDef[defName="O21_Gun_HighlandPistol" or defName="O21_Gun_FlintlockPistol" or defName="O21_Gun_MatchlockPistol"]/tools</xpath>
			<value>
				<tools>
				<li Class="CombatExtended.ToolCE">
					<label>grip</label>
					<capacities>
					<li>Blunt</li>
					</capacities>
					<power>2</power>
					<cooldownTime>1.54</cooldownTime>
					<chanceFactor>1.5</chanceFactor>
					<armorPenetrationBlunt>0.555</armorPenetrationBlunt>
					<linkedBodyPartsGroup>Grip</linkedBodyPartsGroup>
				</li>
				<li Class="CombatExtended.ToolCE">
					<label>muzzle</label>
					<capacities>
					<li>Poke</li>
					</capacities>
					<power>2</power>
					<cooldownTime>1.54</cooldownTime>
					<armorPenetrationBlunt>0.555</armorPenetrationBlunt>
					<linkedBodyPartsGroup>Muzzle</linkedBodyPartsGroup>
				</li>
				</tools>
			</value>
			</li>

			<!-- Various Pistols -->
			<li Class="CombatExtended.PatchOperationMakeGunCECompatible">
			<defName>O21_Gun_HighlandPistol</defName>
			<statBases>
				<Mass>1.25</Mass>
				<Bulk>3.90</Bulk>
				<SwayFactor>1.22</SwayFactor>
				<ShotSpread>0.36</ShotSpread>
				<SightsEfficiency>0.7</SightsEfficiency>
				<RangedWeapon_Cooldown>0.85</RangedWeapon_Cooldown>
			</statBases>
			<Properties>
				<verbClass>CombatExtended.Verb_ShootCE</verbClass>
				<hasStandardCommand>True</hasStandardCommand>
				<defaultProjectile>Bullet_SlowMusketBall</defaultProjectile>
				<warmupTime>1.66</warmupTime>
				<range>12</range>
				<soundCast>Shot_Revolver</soundCast>
				<soundCastTail>GunTail_Light</soundCastTail>
				<muzzleFlashScale>9</muzzleFlashScale>
			</Properties>
			<AmmoUser>
				<magazineSize>1</magazineSize>
				<reloadTime>6.5</reloadTime>
				<ammoSet>AmmoSet_SlowMusketBall</ammoSet>
			</AmmoUser>
			<FireModes>
				<aiAimMode>AimedShot</aiAimMode>
			</FireModes>
			<weaponTags>
				<li>CE_OneHandedWeapon</li>
			</weaponTags>
			</li>

			<li Class="CombatExtended.PatchOperationMakeGunCECompatible">
			<defName>O21_Gun_FlintlockPistol</defName>
			<statBases>
				<Mass>1.25</Mass>
				<Bulk>3.90</Bulk>
				<SwayFactor>1.22</SwayFactor>
				<ShotSpread>0.36</ShotSpread>
				<SightsEfficiency>0.7</SightsEfficiency>
				<RangedWeapon_Cooldown>0.85</RangedWeapon_Cooldown>
			</statBases>
			<Properties>
				<verbClass>CombatExtended.Verb_ShootCE</verbClass>
				<hasStandardCommand>True</hasStandardCommand>
				<defaultProjectile>Bullet_SlowMusketBall</defaultProjectile>
				<warmupTime>1.66</warmupTime>
				<range>12</range>
				<soundCast>Shot_Revolver</soundCast>
				<soundCastTail>GunTail_Light</soundCastTail>
				<muzzleFlashScale>9</muzzleFlashScale>
			</Properties>
			<AmmoUser>
				<magazineSize>1</magazineSize>
				<reloadTime>6.5</reloadTime>
				<ammoSet>AmmoSet_SlowMusketBall</ammoSet>
			</AmmoUser>
			<FireModes>
				<aiAimMode>AimedShot</aiAimMode>
			</FireModes>
			<weaponTags>
				<li>CE_OneHandedWeapon</li>
			</weaponTags>
			</li>

			<li Class="CombatExtended.PatchOperationMakeGunCECompatible">
			<defName>O21_Gun_MatchlockPistol</defName>
			<statBases>
				<Mass>1.45</Mass>
				<Bulk>4</Bulk>
				<SwayFactor>1.24</SwayFactor>
				<ShotSpread>0.37</ShotSpread>
				<SightsEfficiency>0.7</SightsEfficiency>
				<RangedWeapon_Cooldown>0.85</RangedWeapon_Cooldown>
			</statBases>
			<Properties>
				<verbClass>CombatExtended.Verb_ShootCE</verbClass>
				<hasStandardCommand>True</hasStandardCommand>
				<defaultProjectile>Bullet_SlowMusketBall</defaultProjectile>
				<warmupTime>1.86</warmupTime>
				<range>12</range>
				<soundCast>Shot_Revolver</soundCast>
				<soundCastTail>GunTail_Light</soundCastTail>
				<muzzleFlashScale>9</muzzleFlashScale>
			</Properties>
			<AmmoUser>
				<magazineSize>1</magazineSize>
				<reloadTime>6.9</reloadTime>
				<ammoSet>AmmoSet_SlowMusketBall</ammoSet>
			</AmmoUser>
			<FireModes>
				<aiAimMode>AimedShot</aiAimMode>
			</FireModes>
			<weaponTags>
				<li>CE_OneHandedWeapon</li>
			</weaponTags>
			</li>

			</operations>
		</match>
	</Operation>
</Patch>

