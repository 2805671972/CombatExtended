<?xml version="1.0" encoding="utf-8" ?>
<Patch>

    <!-- Grenadier armor -->

    <Operation Class="PatchOperationReplace">
        <xpath>/Defs/ThingDef[defName="Apparel_ArmorMarineGrenadier"]/verbs</xpath>
        <value>
            <verbs>
                <li Class="CombatExtended.VerbPropertiesCE">
                    <label>launch 30x29mm grenade</label>
                    <verbClass>CombatExtended.Verb_LaunchProjectileStaticCE</verbClass>
                    <hasStandardCommand>true</hasStandardCommand>
                    <onlyManualCast>True</onlyManualCast>
                    <warmupTime>1.5</warmupTime>
                    <range>40</range>
                    <minRange>5</minRange>
                    <ai_IsBuildingDestroyer>true</ai_IsBuildingDestroyer>
                    <soundCast>Shot_IncendiaryLauncher</soundCast>
                    <soundCastTail>GunTail_Medium</soundCastTail>
                    <muzzleFlashScale>14</muzzleFlashScale>
                    <drawHighlightWithLineOfSight>true</drawHighlightWithLineOfSight>
                    <targetParams>
                        <canTargetLocations>true</canTargetLocations>
                    </targetParams>
                    <ignorePartialLoSBlocker>true</ignorePartialLoSBlocker>
                    <defaultProjectile>Bullet_30x29mmGrenade_HE</defaultProjectile>
                    <rangedFireRulepack>Combat_RangedFire_Thrown</rangedFireRulepack>
                </li>
            </verbs>
        </value>
    </Operation>

    <Operation Class="PatchOperationReplace">
        <xpath>/Defs/ThingDef[defName="Apparel_ArmorMarineGrenadier"]/comps/li[@Class="CompProperties_Reloadable"]/ammoDef</xpath>
        <value>
            <ammoDef>Ammo_30x29mmGrenade_HE</ammoDef>
        </value>
    </Operation>

    <Operation Class="PatchOperationReplace">
        <xpath>/Defs/ThingDef[defName="Apparel_ArmorMarineGrenadier"]/comps/li[@Class="CompProperties_Reloadable"]/ammoCountPerCharge</xpath>
        <value>
            <ammoCountPerCharge>1</ammoCountPerCharge>
        </value>
    </Operation>

    <!-- Phoenix armor -->

    <Operation Class="PatchOperationReplace">
        <xpath>/Defs/ThingDef[defName="Apparel_ArmorCataphractPhoenix"]/verbs</xpath>
        <value>
            <verbs>
                <li Class="CombatExtended.VerbPropertiesCE">
                    <label>launch 30x64mm incendiary</label>
                    <verbClass>CombatExtended.Verb_LaunchProjectileStaticCE</verbClass>
                    <hasStandardCommand>true</hasStandardCommand>
                    <onlyManualCast>True</onlyManualCast>
                    <warmupTime>1.5</warmupTime>
                    <range>40</range>
                    <minRange>5</minRange>
                    <ai_IsBuildingDestroyer>true</ai_IsBuildingDestroyer>
                    <soundCast>Shot_IncendiaryLauncher</soundCast>
                    <soundCastTail>GunTail_Medium</soundCastTail>
                    <muzzleFlashScale>14</muzzleFlashScale>
                    <drawHighlightWithLineOfSight>true</drawHighlightWithLineOfSight>
                    <targetParams>
                        <canTargetLocations>true</canTargetLocations>
                    </targetParams>
                    <ignorePartialLoSBlocker>true</ignorePartialLoSBlocker>
                    <defaultProjectile>Bullet_30x64mmFuel_Incendiary</defaultProjectile>
                    <rangedFireRulepack>Combat_RangedFire_Thrown</rangedFireRulepack>
                </li>
            </verbs>
        </value>
    </Operation>

    <Operation Class="PatchOperationReplace">
        <xpath>/Defs/ThingDef[defName="Apparel_ArmorCataphractPhoenix"]/comps/li[@Class="CompProperties_Reloadable"]/ammoDef</xpath>
        <value>
            <ammoDef>Ammo_30x64mmFuel_Incendiary</ammoDef>
        </value>
    </Operation>

    <Operation Class="PatchOperationReplace">
        <xpath>/Defs/ThingDef[defName="Apparel_ArmorCataphractPhoenix"]/comps/li[@Class="CompProperties_Reloadable"]/ammoCountPerCharge</xpath>
        <value>
            <ammoCountPerCharge>1</ammoCountPerCharge>
        </value>
    </Operation>

</Patch>

