<?xml version="1.0" encoding="utf-8"?>
<Patch>

	<!-- ========== Shell Production ========== -->
	<!--Patch Artillery Foundry to use 3 inputs-->

	<Operation Class="PatchOperationReplace">
		<xpath>Defs/ThingDef[defName="VFEM_MunitionsAndArmamentFactory_ArtilleryFoundry"]/comps/li[@Class="ItemProcessor.CompProperties_ItemProcessor"]/numberOfInputs</xpath>
		<value>
			<numberOfInputs>3</numberOfInputs>
		</value>
	</Operation>

	<!--HE-->
	<Operation Class="PatchOperationAdd">
		<xpath>Defs/ItemProcessor.CombinationDef[defName="VFEM_MunitionsAndArmamentFactory_ArtilleryFoundry_Shell_HighExplosive"]</xpath>
		<value>
			<thirdItems>
				<li>ComponentIndustrial</li>
			</thirdItems>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>Defs/ItemProcessor.CombinationDef[defName="VFEM_MunitionsAndArmamentFactory_ArtilleryFoundry_Shell_HighExplosive"]/secondItems/li</xpath>
		<value>
			<li>FSX</li>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>Defs/ItemProcessor.CombinationDef[defName="VFEM_MunitionsAndArmamentFactory_ArtilleryFoundry_Shell_HighExplosive"]/amount</xpath>
		<value>
			<amount>
				<li>54</li>
				<li>10</li>
				<li>2</li>
			</amount>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>Defs/ItemProcessor.CombinationDef[defName="VFEM_MunitionsAndArmamentFactory_ArtilleryFoundry_Shell_HighExplosive"]/yield</xpath>
		<value>
			<yield>5</yield>
		</value>
	</Operation>

	<!--Incendiary-->
	<Operation Class="PatchOperationAdd">
		<xpath>Defs/ItemProcessor.CombinationDef[defName="VFEM_MunitionsAndArmamentFactory_ArtilleryFoundry_Shell_Incendiary"]</xpath>
		<value>
			<thirdItems>
				<li>ComponentIndustrial</li>
			</thirdItems>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>Defs/ItemProcessor.CombinationDef[defName="VFEM_MunitionsAndArmamentFactory_ArtilleryFoundry_Shell_Incendiary"]/secondItems/li</xpath>
		<value>
			<li>Prometheum</li>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>Defs/ItemProcessor.CombinationDef[defName="VFEM_MunitionsAndArmamentFactory_ArtilleryFoundry_Shell_Incendiary"]/amount</xpath>
		<value>
			<amount>
				<li>58</li>
				<li>4</li>
				<li>2</li>
			</amount>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>Defs/ItemProcessor.CombinationDef[defName="VFEM_MunitionsAndArmamentFactory_ArtilleryFoundry_Shell_Incendiary"]/yield</xpath>
		<value>
			<yield>5</yield>
		</value>
	</Operation>

	<!--EMP : The factory stuff is very sensitive about input count. 20 chemfuel is a nice discount compared to the 2 extra components-->

	<Operation Class="PatchOperationAdd">
		<xpath>Defs/ItemProcessor.CombinationDef[defName="VFEM_MunitionsAndArmamentFactory_ArtilleryFoundry_Shell_EMP"]</xpath>
		<value>
			<thirdItems>
				<li>ComponentIndustrial</li>
			</thirdItems>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>Defs/ItemProcessor.CombinationDef[defName="VFEM_MunitionsAndArmamentFactory_ArtilleryFoundry_Shell_EMP"]/amount</xpath>
		<value>
			<amount>
				<li>54</li>
				<li>20</li>
				<li>12</li>
			</amount>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>Defs/ItemProcessor.CombinationDef[defName="VFEM_MunitionsAndArmamentFactory_ArtilleryFoundry_Shell_EMP"]/yield</xpath>
		<value>
			<yield>5</yield>
		</value>
	</Operation>

	<!-- Alpha Biomes -->

	<Operation Class="PatchOperationFindMod">
		<mods>
			<li>Alpha Biomes</li>
		</mods>
		<match Class="PatchOperationReplace">
			<xpath>Defs/ItemProcessor.CombinationDef[defName="VFEM_MunitionsAndArmamentFactory_ArtilleryFoundry_AB_Shell_Tar"]/result</xpath>
			<value>
				<result>AB_Shell_Tar</result>
			</value>
		</match>
	</Operation>

	<!--60mm-->
	<Operation Class="PatchOperationAdd">
		<xpath>Defs</xpath>
		<value>

		<ItemProcessor.CombinationDef>
			<defName>VFEM_MunitionsAndArmamentFactory_ArtilleryFoundry_Shell_60mmMortar_HE</defName>
			<building>VFEM_MunitionsAndArmamentFactory_ArtilleryFoundry</building>
			<items>
				<li>Steel</li>
			</items>
			<secondItems>
				<li>FSX</li>
			</secondItems>
			<thirdItems>
				<li>ComponentIndustrial</li>
			</thirdItems>
			<amount>
				<li>20</li>
				<li>4</li>
				<li>2</li>
			</amount>
			<outputLimitControlled>true</outputLimitControlled>
			<maxTotalOutput>100</maxTotalOutput>
			<result>Shell_60mmMortar_HE</result>
			<yield>5</yield>
			<useQualityIncreasing>false</useQualityIncreasing>
			<singleTimeIfNotQualityIncreasing>0.1</singleTimeIfNotQualityIncreasing>
		</ItemProcessor.CombinationDef>

		<ItemProcessor.CombinationDef>
			<defName>VFEM_MunitionsAndArmamentFactory_ArtilleryFoundry_Shell_60mmMortar_Incendiary</defName>
			<building>VFEM_MunitionsAndArmamentFactory_ArtilleryFoundry</building>
			<items>
				<li>Steel</li>
			</items>
			<secondItems>
				<li>Prometheum</li>
			</secondItems>
			<thirdItems>
				<li>ComponentIndustrial</li>
			</thirdItems>
			<amount>
				<li>20</li>
				<li>2</li>
				<li>2</li>
			</amount>
			<outputLimitControlled>true</outputLimitControlled>
			<maxTotalOutput>100</maxTotalOutput>
			<result>Shell_60mmMortar_Incendiary</result>
			<yield>5</yield>
			<useQualityIncreasing>false</useQualityIncreasing>
			<singleTimeIfNotQualityIncreasing>0.1</singleTimeIfNotQualityIncreasing>
		</ItemProcessor.CombinationDef>

		<ItemProcessor.CombinationDef>
			<defName>VFEM_MunitionsAndArmamentFactory_ArtilleryFoundry_Shell_60mmMortar_EMP</defName>
			<building>VFEM_MunitionsAndArmamentFactory_ArtilleryFoundry</building>
			<items>
				<li>Steel</li>
			</items>
			<secondItems>
				<li>Chemfuel</li>
			</secondItems>
			<thirdItems>
				<li>ComponentIndustrial</li>
			</thirdItems>
			<amount>
				<li>20</li>
				<li>20</li>
				<li>4</li>
			</amount>
			<outputLimitControlled>true</outputLimitControlled>
			<maxTotalOutput>100</maxTotalOutput>
			<result>Shell_60mmMortar_EMP</result>
			<yield>5</yield>
			<useQualityIncreasing>false</useQualityIncreasing>
			<singleTimeIfNotQualityIncreasing>0.1</singleTimeIfNotQualityIncreasing>
		</ItemProcessor.CombinationDef>

		</value>
	</Operation>

	<!--90mm-->
	<Operation Class="PatchOperationAdd">
		<xpath>Defs</xpath>
		<value>

		<ItemProcessor.CombinationDef>
			<defName>VFEM_MunitionsAndArmamentFactory_ArtilleryFoundry_Ammo_90mmCannonShell_HE</defName>
			<building>VFEM_MunitionsAndArmamentFactory_ArtilleryFoundry</building>
			<items>
				<li>Steel</li>
			</items>
			<secondItems>
				<li>FSX</li>
			</secondItems>
			<thirdItems>
				<li>ComponentIndustrial</li>
			</thirdItems>
			<amount>
				<li>192</li>
				<li>10</li>
				<li>2</li>
			</amount>
			<outputLimitControlled>true</outputLimitControlled>
			<maxTotalOutput>100</maxTotalOutput>
			<result>Ammo_90mmCannonShell_HE</result>
			<yield>5</yield>
			<useQualityIncreasing>false</useQualityIncreasing>
			<singleTimeIfNotQualityIncreasing>0.1</singleTimeIfNotQualityIncreasing>
		</ItemProcessor.CombinationDef>

		<ItemProcessor.CombinationDef>
			<defName>VFEM_MunitionsAndArmamentFactory_ArtilleryFoundry_Ammo_90mmCannonShell_HEAT</defName>
			<building>VFEM_MunitionsAndArmamentFactory_ArtilleryFoundry</building>
			<items>
				<li>Steel</li>
			</items>
			<secondItems>
				<li>FSX</li>
			</secondItems>
			<thirdItems>
				<li>ComponentIndustrial</li>
			</thirdItems>
			<amount>
				<li>160</li>
				<li>8</li>
				<li>2</li>
			</amount>
			<outputLimitControlled>true</outputLimitControlled>
			<maxTotalOutput>100</maxTotalOutput>
			<result>Ammo_90mmCannonShell_HEAT</result>
			<yield>5</yield>
			<useQualityIncreasing>false</useQualityIncreasing>
			<singleTimeIfNotQualityIncreasing>0.1</singleTimeIfNotQualityIncreasing>
		</ItemProcessor.CombinationDef>

		<ItemProcessor.CombinationDef>
			<defName>VFEM_MunitionsAndArmamentFactory_ArtilleryFoundry_Ammo_90mmCannonShell_EMP</defName>
			<building>VFEM_MunitionsAndArmamentFactory_ArtilleryFoundry</building>
			<items>
				<li>Steel</li>
			</items>
			<secondItems>
				<li>Chemfuel</li>
			</secondItems>
			<thirdItems>
				<li>ComponentIndustrial</li>
			</thirdItems>
			<amount>
				<li>192</li>
				<li>20</li>
				<li>11</li>
			</amount>
			<outputLimitControlled>true</outputLimitControlled>
			<maxTotalOutput>100</maxTotalOutput>
			<result>Ammo_90mmCannonShell_EMP</result>
			<yield>5</yield>
			<useQualityIncreasing>false</useQualityIncreasing>
			<singleTimeIfNotQualityIncreasing>0.1</singleTimeIfNotQualityIncreasing>
		</ItemProcessor.CombinationDef>

		</value>
	</Operation>


	<!-- ========== Mechanoid ammo production ========== -->

	<Operation Class="PatchOperationAdd">
		<xpath>Defs</xpath>
		<value>

			<ItemProcessor.CombinationDef>
				<defName>VFEM_VersatileAssembler_Ammo_80x256mmFuel</defName>
				<building>VFEM_VersatileAssembler</building>
				<items>
					<li>Steel</li>
				</items>
				<secondItems>
					<li>Prometheum</li>
				</secondItems>
				<thirdItems>
					<li>ComponentIndustrial</li>
				</thirdItems>
				<amount>
					<li>10</li>
					<li>3</li>
					<li>2</li>
				</amount>
				<outputLimitControlled>true</outputLimitControlled>
				<maxTotalOutput>25</maxTotalOutput>
				<result>Ammo_80x256mmFuel_Incendiary</result>
				<yield>5</yield>
				<useQualityIncreasing>false</useQualityIncreasing>
				<singleTimeIfNotQualityIncreasing>0.1</singleTimeIfNotQualityIncreasing>
			</ItemProcessor.CombinationDef>
			<ItemProcessor.CombinationDef>
				<defName>VFEM_VersatileAssembler_Ammo_12x64mmCharged</defName>
				<building>VFEM_VersatileAssembler</building>
				<items>
					<li>Plasteel</li>
				</items>
				<secondItems>
					<li>Steel</li>
				</secondItems>
				<thirdItems>
					<li>ComponentIndustrial</li>
				</thirdItems>
				<amount>
					<li>32</li>
					<li>8</li>
					<li>14</li>
				</amount>
				<outputLimitControlled>true</outputLimitControlled>
				<maxTotalOutput>2000</maxTotalOutput>
				<result>Ammo_12x64mmCharged</result>
				<yield>200</yield>
				<useQualityIncreasing>false</useQualityIncreasing>
				<singleTimeIfNotQualityIncreasing>0.1</singleTimeIfNotQualityIncreasing>
			</ItemProcessor.CombinationDef>
			<ItemProcessor.CombinationDef>
				<defName>VFEM_VersatileAssembler_Ammo_5x35mmCharged</defName>
				<building>VFEM_VersatileAssembler</building>
				<items>
					<li>Plasteel</li>
				</items>
				<secondItems>
					<li>Steel</li>
				</secondItems>
				<thirdItems>
					<li>ComponentIndustrial</li>
				</thirdItems>
				<amount>
					<li>12</li>
					<li>10</li>
					<li>7</li>
				</amount>
				<outputLimitControlled>true</outputLimitControlled>
				<maxTotalOutput>2000</maxTotalOutput>
				<result>Ammo_5x35mmCharged</result>
				<yield>500</yield>
				<useQualityIncreasing>false</useQualityIncreasing>
				<singleTimeIfNotQualityIncreasing>0.1</singleTimeIfNotQualityIncreasing>
			</ItemProcessor.CombinationDef>
			<ItemProcessor.CombinationDef>
				<defName>VFEM_VersatileAssembler_Ammo_6x22mmCharged</defName>
				<building>VFEM_VersatileAssembler</building>
				<items>
					<li>Plasteel</li>
				</items>
				<secondItems>
					<li>Steel</li>
				</secondItems>
				<thirdItems>
					<li>ComponentIndustrial</li>
				</thirdItems>
				<amount>
					<li>8</li>
					<li>6</li>
					<li>5</li>
				</amount>
				<outputLimitControlled>true</outputLimitControlled>
				<maxTotalOutput>2000</maxTotalOutput>
				<result>Ammo_6x22mmCharged</result>
				<yield>500</yield>
				<useQualityIncreasing>false</useQualityIncreasing>
				<singleTimeIfNotQualityIncreasing>0.1</singleTimeIfNotQualityIncreasing>
			</ItemProcessor.CombinationDef>
			<ItemProcessor.CombinationDef>
				<defName>VFEM_VersatileAssembler_Ammo_164x284mmDemo</defName>
				<building>VFEM_VersatileAssembler</building>
				<items>
					<li>Steel</li>
				</items>
				<secondItems>
					<li>FSX</li>
				</secondItems>
				<thirdItems>
					<li>ComponentIndustrial</li>
				</thirdItems>
				<amount>
					<li>16</li>
					<li>5</li>
					<li>4</li>
				</amount>
				<outputLimitControlled>true</outputLimitControlled>
				<maxTotalOutput>25</maxTotalOutput>
				<result>Ammo_164x284mmDemo</result>
				<yield>5</yield>
				<useQualityIncreasing>false</useQualityIncreasing>
				<singleTimeIfNotQualityIncreasing>0.1</singleTimeIfNotQualityIncreasing>
			</ItemProcessor.CombinationDef>
			<ItemProcessor.CombinationDef>
				<defName>VFEM_VersatileAssembler_Ammo_66mmThermalBolt</defName>
				<building>VFEM_VersatileAssembler</building>
				<items>
					<li>Steel</li>
				</items>
				<secondItems>
					<li>Prometheum</li>
				</secondItems>
				<thirdItems>
					<li>ComponentIndustrial</li>
				</thirdItems>
				<amount>
					<li>22</li>
					<li>2</li>
					<li>2</li>
				</amount>
				<outputLimitControlled>true</outputLimitControlled>
				<maxTotalOutput>25</maxTotalOutput>
				<result>Ammo_66mmThermalBolt_Incendiary</result>
				<yield>5</yield>
				<useQualityIncreasing>false</useQualityIncreasing>
				<singleTimeIfNotQualityIncreasing>0.1</singleTimeIfNotQualityIncreasing>
			</ItemProcessor.CombinationDef>
			<ItemProcessor.CombinationDef>
				<defName>VFEM_VersatileAssembler_Ammo_5x16mmCharged</defName>
				<building>VFEM_VersatileAssembler</building>
				<items>
					<li>Plasteel</li>
				</items>
				<secondItems>
					<li>Steel</li>
				</secondItems>
				<thirdItems>
					<li>ComponentIndustrial</li>
				</thirdItems>
				<amount>
					<li>6</li>
					<li>4</li>
					<li>6</li>
				</amount>
				<outputLimitControlled>true</outputLimitControlled>
				<maxTotalOutput>2000</maxTotalOutput>
				<result>Ammo_5x16mmCharged</result>
				<yield>500</yield>
				<useQualityIncreasing>false</useQualityIncreasing>
				<singleTimeIfNotQualityIncreasing>0.1</singleTimeIfNotQualityIncreasing>
			</ItemProcessor.CombinationDef>
			<ItemProcessor.CombinationDef>
				<defName>VFEM_VersatileAssembler_Ammo_8x40mmCharged</defName>
				<building>VFEM_VersatileAssembler</building>
				<items>
					<li>Plasteel</li>
				</items>
				<secondItems>
					<li>Steel</li>
				</secondItems>
				<thirdItems>
					<li>ComponentIndustrial</li>
				</thirdItems>
				<amount>
					<li>18</li>
					<li>12</li>
					<li>9</li>
				</amount>
				<outputLimitControlled>true</outputLimitControlled>
				<maxTotalOutput>2000</maxTotalOutput>
				<result>Ammo_8x40mmCharged</result>
				<yield>500</yield>
				<useQualityIncreasing>false</useQualityIncreasing>
				<singleTimeIfNotQualityIncreasing>0.1</singleTimeIfNotQualityIncreasing>
			</ItemProcessor.CombinationDef>
			
		</value>
	</Operation>

	<!-- 76.2mm -->
	<Operation Class="PatchOperationFindMod">
		<mods>
			<li>WWII Soviet Faction</li>
			<li>Vanilla Factions Expanded - Pirates</li><!-- add more if any mods add such caliber-->
		</mods>
		<match Class="PatchOperationAdd">
			<xpath>Defs</xpath>
			<value>

			<ItemProcessor.CombinationDef>
				<defName>VFEM_MunitionsAndArmamentFactory_ArtilleryFoundry_Ammo_762x385mmRCannonShell_HE</defName>
				<building>VFEM_MunitionsAndArmamentFactory_ArtilleryFoundry</building>
				<items>
					<li>Steel</li>
				</items>
				<secondItems>
					<li>FSX</li>
				</secondItems>
				<thirdItems>
					<li>ComponentIndustrial</li>
				</thirdItems>
				<amount>
					<li>90</li>
					<li>5</li>
					<li>2</li>
				</amount>
				<outputLimitControlled>true</outputLimitControlled>
				<maxTotalOutput>100</maxTotalOutput>
				<result>Ammo_762x385mmRCannonShell_HE</result>
				<yield>5</yield>
				<useQualityIncreasing>false</useQualityIncreasing>
				<singleTimeIfNotQualityIncreasing>0.1</singleTimeIfNotQualityIncreasing>
			</ItemProcessor.CombinationDef>

			<ItemProcessor.CombinationDef>
				<defName>VFEM_MunitionsAndArmamentFactory_ArtilleryFoundry_Ammo_762x385mmRCannonShell_HEAT</defName>
				<building>VFEM_MunitionsAndArmamentFactory_ArtilleryFoundry</building>
				<items>
					<li>Steel</li>
				</items>
				<secondItems>
					<li>FSX</li>
				</secondItems>
				<thirdItems>
					<li>ComponentIndustrial</li>
				</thirdItems>
				<amount>
					<li>108</li>
					<li>3</li>
					<li>2</li>
				</amount>
				<outputLimitControlled>true</outputLimitControlled>
				<maxTotalOutput>100</maxTotalOutput>
				<result>Ammo_762x385mmRCannonShell_HEAT</result>
				<yield>5</yield>
				<useQualityIncreasing>false</useQualityIncreasing>
				<singleTimeIfNotQualityIncreasing>0.1</singleTimeIfNotQualityIncreasing>
			</ItemProcessor.CombinationDef>

			<ItemProcessor.CombinationDef>
				<defName>VFEM_MunitionsAndArmamentFactory_ArtilleryFoundry_Ammo_762x385mmRCannonShell_EMP</defName>
				<building>VFEM_MunitionsAndArmamentFactory_ArtilleryFoundry</building>
				<items>
					<li>Steel</li>
				</items>
				<secondItems>
					<li>Chemfuel</li>
				</secondItems>
				<thirdItems>
					<li>ComponentIndustrial</li>
				</thirdItems>
				<amount>
					<li>90</li>
					<li>20</li>
					<li>6</li>
				</amount>
				<outputLimitControlled>true</outputLimitControlled>
				<maxTotalOutput>100</maxTotalOutput>
				<result>Ammo_762x385mmRCannonShell_EMP</result>
				<yield>5</yield>
				<useQualityIncreasing>false</useQualityIncreasing>
				<singleTimeIfNotQualityIncreasing>0.1</singleTimeIfNotQualityIncreasing>
			</ItemProcessor.CombinationDef>

			</value>
		</match>
	</Operation>

	<!-- 105mm -->
	<Operation Class="PatchOperationFindMod">
		<mods>
			<li>Combat Extended Guns</li><!-- add more if any mods add such caliber-->
		</mods>
		<match Class="PatchOperationAdd">
			<xpath>Defs</xpath>
			<value>

			<ItemProcessor.CombinationDef>
				<defName>VFEM_MunitionsAndArmamentFactory_ArtilleryFoundry_Ammo_105mmHowitzerShell_HE</defName>
				<building>VFEM_MunitionsAndArmamentFactory_ArtilleryFoundry</building>
				<items>
					<li>Steel</li>
				</items>
				<secondItems>
					<li>FSX</li>
				</secondItems>
				<thirdItems>
					<li>ComponentIndustrial</li>
				</thirdItems>
				<amount>
					<li>60</li>
					<li>7</li>
					<li>2</li>
				</amount>
				<outputLimitControlled>true</outputLimitControlled>
				<maxTotalOutput>25</maxTotalOutput>
				<result>Ammo_105mmHowitzerShell_HE</result>
				<yield>2</yield>
				<useQualityIncreasing>false</useQualityIncreasing>
				<singleTimeIfNotQualityIncreasing>0.1</singleTimeIfNotQualityIncreasing>
			</ItemProcessor.CombinationDef>

			<ItemProcessor.CombinationDef>
				<defName>VFEM_MunitionsAndArmamentFactory_ArtilleryFoundry_Ammo_105mmHowitzerShell_HEAT</defName>
				<building>VFEM_MunitionsAndArmamentFactory_ArtilleryFoundry</building>
				<items>
					<li>Steel</li>
				</items>
				<secondItems>
					<li>FSX</li>
				</secondItems>
				<thirdItems>
					<li>ComponentIndustrial</li>
				</thirdItems>
				<amount>
					<li>76</li>
					<li>4</li>
					<li>2</li>
				</amount>
				<outputLimitControlled>true</outputLimitControlled>
				<maxTotalOutput>25</maxTotalOutput>
				<result>Ammo_105mmHowitzerShell_HEAT</result>
				<yield>2</yield>
				<useQualityIncreasing>false</useQualityIncreasing>
				<singleTimeIfNotQualityIncreasing>0.1</singleTimeIfNotQualityIncreasing>
			</ItemProcessor.CombinationDef>

			<ItemProcessor.CombinationDef>
				<defName>VFEM_MunitionsAndArmamentFactory_ArtilleryFoundry_Ammo_105mmHowitzerShell_Incendiary</defName>
				<building>VFEM_MunitionsAndArmamentFactory_ArtilleryFoundry</building>
				<items>
					<li>Steel</li>
				</items>
				<secondItems>
					<li>Prometheum</li>
				</secondItems>
				<thirdItems>
					<li>ComponentIndustrial</li>
				</thirdItems>
				<amount>
					<li>60</li>
					<li>3</li>
					<li>2</li>
				</amount>
				<outputLimitControlled>true</outputLimitControlled>
				<maxTotalOutput>25</maxTotalOutput>
				<result>Ammo_105mmHowitzerShell_Incendiary</result>
				<yield>2</yield>
				<useQualityIncreasing>false</useQualityIncreasing>
				<singleTimeIfNotQualityIncreasing>0.1</singleTimeIfNotQualityIncreasing>
			</ItemProcessor.CombinationDef>

			<ItemProcessor.CombinationDef>
				<defName>VFEM_MunitionsAndArmamentFactory_ArtilleryFoundry_Ammo_105mmHowitzerShell_EMP</defName>
				<building>VFEM_MunitionsAndArmamentFactory_ArtilleryFoundry</building>
				<items>
					<li>Steel</li>
				</items>
				<secondItems>
					<li>Chemfuel</li>
				</secondItems>
				<thirdItems>
					<li>ComponentIndustrial</li>
				</thirdItems>
				<amount>
					<li>76</li>
					<li>20</li>
					<li>7</li>
				</amount>
				<outputLimitControlled>true</outputLimitControlled>
				<maxTotalOutput>25</maxTotalOutput>
				<result>Ammo_105mmHowitzerShell_EMP</result>
				<yield>2</yield>
				<useQualityIncreasing>false</useQualityIncreasing>
				<singleTimeIfNotQualityIncreasing>0.1</singleTimeIfNotQualityIncreasing>
			</ItemProcessor.CombinationDef>

			</value>
		</match>
	</Operation>

	<!-- 155mm -->
	<Operation Class="PatchOperationFindMod">
		<mods>
			<li>Fortifications - Industrial</li>
			<li>TMC Weapon Pack</li>
			<li>Turret Collection</li>
			<li>Vanilla Furniture Expanded - Security</li><!-- add more if any mods add such caliber-->
		</mods>
		<match Class="PatchOperationAdd">
			<xpath>Defs</xpath>
			<value>

			<ItemProcessor.CombinationDef>
				<defName>VFEM_MunitionsAndArmamentFactory_ArtilleryFoundry_Ammo_155mmHowitzerShell_HE</defName>
				<building>VFEM_MunitionsAndArmamentFactory_ArtilleryFoundry</building>
				<items>
					<li>Steel</li>
				</items>
				<secondItems>
					<li>FSX</li>
				</secondItems>
				<thirdItems>
					<li>ComponentIndustrial</li>
				</thirdItems>
				<amount>
					<li>94</li>
					<li>17</li>
					<li>2</li>
				</amount>
				<outputLimitControlled>true</outputLimitControlled>
				<maxTotalOutput>25</maxTotalOutput>
				<result>Ammo_155mmHowitzerShell_HE</result>
				<yield>1</yield>
				<useQualityIncreasing>false</useQualityIncreasing>
				<singleTimeIfNotQualityIncreasing>0.1</singleTimeIfNotQualityIncreasing>
			</ItemProcessor.CombinationDef>

			<ItemProcessor.CombinationDef>
				<defName>VFEM_MunitionsAndArmamentFactory_ArtilleryFoundry_Ammo_155mmHowitzerShell_Incendiary</defName>
				<building>VFEM_MunitionsAndArmamentFactory_ArtilleryFoundry</building>
				<items>
					<li>Steel</li>
				</items>
				<secondItems>
					<li>Prometheum</li>
				</secondItems>
				<thirdItems>
					<li>ComponentIndustrial</li>
				</thirdItems>
				<amount>
					<li>94</li>
					<li>5</li>
					<li>2</li>
				</amount>
				<outputLimitControlled>true</outputLimitControlled>
				<maxTotalOutput>25</maxTotalOutput>
				<result>Ammo_155mmHowitzerShell_Incendiary</result>
				<yield>1</yield>
				<useQualityIncreasing>false</useQualityIncreasing>
				<singleTimeIfNotQualityIncreasing>0.1</singleTimeIfNotQualityIncreasing>
			</ItemProcessor.CombinationDef>

			<ItemProcessor.CombinationDef>
				<defName>VFEM_MunitionsAndArmamentFactory_ArtilleryFoundry_Ammo_155mmHowitzerShell_EMP</defName>
				<building>VFEM_MunitionsAndArmamentFactory_ArtilleryFoundry</building>
				<items>
					<li>Steel</li>
				</items>
				<secondItems>
					<li>Chemfuel</li>
				</secondItems>
				<thirdItems>
					<li>ComponentIndustrial</li>
				</thirdItems>
				<amount>
					<li>94</li>
					<li>20</li>
					<li>12</li>
				</amount>
				<outputLimitControlled>true</outputLimitControlled>
				<maxTotalOutput>25</maxTotalOutput>
				<result>Ammo_155mmHowitzerShell_EMP</result>
				<yield>1</yield>
				<useQualityIncreasing>false</useQualityIncreasing>
				<singleTimeIfNotQualityIncreasing>0.1</singleTimeIfNotQualityIncreasing>
			</ItemProcessor.CombinationDef>

			</value>
		</match>
	</Operation>

</Patch>