<?xml version="1.0" encoding="utf-8" ?>
<Defs>

  <ThingDef ParentName="MakeableDrugBase">
    <defName>Psycho</defName>
    <label>psycho</label>
    <description>A very refined and concentrated powdery preparation of the psychite drug. When snorted, it produces a very rapid euphoric high, dramatically reduces the user's need for rest, blocks pain, inceases movement speed and heightens the user's consciousness. Like all forms of psychite, it is addictive, though it is even more addictive than the other variants.\n\nBecause of the crude process of the production of this drug and it being very concentrated, aside from it being very addictive and having a high overdose chance, it can have a very nastry crash period. It is advised that this drug should only be taken in dire situations and as a last resort.</description>
    <descriptionHyperlinks>
      <HediffDef>PsychoHigh</HediffDef>
      <HediffDef>PsychiteTolerance</HediffDef>
      <HediffDef>PsychoCrash</HediffDef>
      <HediffDef>PsychiteAddiction</HediffDef>
      <HediffDef>ChemicalDamageSevere</HediffDef>
    </descriptionHyperlinks>
    <graphicData>
      <texPath>Things/Item/Drug/Yayo</texPath>
      <graphicClass>Graphic_StackCount</graphicClass>
      <color>(95,125,95)</color>
      <drawSize>0.75</drawSize>
    </graphicData>
    <rotatable>false</rotatable>
    <statBases>
      <WorkToMake>600</WorkToMake>
      <MarketValue>7</MarketValue>
      <Mass>0.05</Mass>
    </statBases>
    <generateCommonality>0.25</generateCommonality>
    <techLevel>Neolithic</techLevel>
    <minRewardCount>10</minRewardCount>
    <ingestible>
      <foodType>Processed</foodType>
      <joyKind>Chemical</joyKind>
      <joy>1.0</joy>
      <drugCategory>Hard</drugCategory>
      <baseIngestTicks>60</baseIngestTicks>
      <ingestSound>Ingest_Snort</ingestSound>
      <ingestHoldOffsetStanding>
        <northDefault>
          <offset>(0.07,0,0)</offset>
        </northDefault>
      </ingestHoldOffsetStanding>
      <ingestHoldUsesTable>false</ingestHoldUsesTable>
      <ingestCommandString>Snort {0}</ingestCommandString>
      <ingestReportString>Snorting {0}.</ingestReportString>
      <useEatingSpeedStat>false</useEatingSpeedStat>
      <outcomeDoers>
        <li Class="IngestionOutcomeDoer_GiveHediff">
          <hediffDef>PsychoHigh</hediffDef>
          <severity>1.0</severity>
          <toleranceChemical>Psychite</toleranceChemical>
        </li>
        <li Class="IngestionOutcomeDoer_OffsetNeed">
          <need>Rest</need>
          <offset>0.6</offset>
          <toleranceChemical>Psychite</toleranceChemical>
        </li>
        <li Class="IngestionOutcomeDoer_GiveHediff">
          <hediffDef>PsychiteTolerance</hediffDef>
          <severity>0.1</severity>
          <divideByBodySize>true</divideByBodySize>
        </li>
        <li Class="IngestionOutcomeDoer_OffsetPsyfocus">
          <offset>0.25</offset>
        </li>
      </outcomeDoers>
    </ingestible>
    <recipeMaker>
      <recipeUsers>
        <li>CraftingSpot</li>
        <li>DrugLab</li>
      </recipeUsers>
      <soundWorking>Recipe_Drug</soundWorking>
    </recipeMaker>
    <costList>
      <PsychoidLeaves>16</PsychoidLeaves>
    </costList>
    <comps>
      <li Class="CompProperties_Drug">
        <chemical>Psychite</chemical>
        <addictiveness>0.2</addictiveness>
        <existingAddictionSeverityOffset>0.25</existingAddictionSeverityOffset>
        <needLevelOffset>1.0</needLevelOffset>
        <isCombatEnhancingDrug>true</isCombatEnhancingDrug>
        <listOrder>150</listOrder>
        <overdoseSeverityOffset>0.25~0.50</overdoseSeverityOffset>
        <largeOverdoseChance>0.05</largeOverdoseChance>
      </li>
    </comps>
  </ThingDef>

  <HediffDef>
    <defName>PsychoHigh</defName>
    <label>high on psycho</label>
    <labelNoun>a psycho high</labelNoun>
    <description>Active psycho in the bloodstream. Generates a very intense euphoric high.</description>
    <hediffClass>Hediff_High</hediffClass>
    <defaultLabelColor>(1,0,0.5)</defaultLabelColor>
    <scenarioCanAdd>true</scenarioCanAdd>
    <maxSeverity>1.0</maxSeverity>
    <isBad>false</isBad>
    <comps>
      <li Class="HediffCompProperties_SeverityPerDay">
        <severityPerDay>-2.5</severityPerDay>
        <showHoursToRecover>true</showHoursToRecover>
      </li>
    </comps>
      <stages>
        <li>
          <label>crash</label>
          <hediffGivers>
            <li Class="HediffGiver_Random">
              <hediff>PsychoCrash</hediff>
              <mtbDays>0.025</mtbDays>
              <partsToAffect>
                <li>Brain</li>
              </partsToAffect>
            </li>
          </hediffGivers>
        </li>
        <li>
          <minSeverity>0.05</minSeverity>
          <label>coming down</label>
          <painFactor>0.75</painFactor>
          <restFallFactor>0.75</restFallFactor>
          <capMods>
            <li>
              <capacity>Consciousness</capacity>
              <offset>0.05</offset>
            </li>
            <li>
              <capacity>Sight</capacity>
              <offset>0.05</offset>
            </li>
            <li>
              <capacity>Moving</capacity>
              <offset>0.1</offset>
            </li>
          </capMods>
          <statFactors>
            <Suppressability>0.75</Suppressability>
          </statFactors>
        </li>
        <li>
          <minSeverity>0.15</minSeverity>
          <label>full-on high</label>
          <painFactor>0.1</painFactor>
          <restFallFactor>0.33</restFallFactor>
          <capMods>
            <li>
              <capacity>Consciousness</capacity>
              <offset>0.20</offset>
            </li>
            <li>
              <capacity>Sight</capacity>
              <offset>0.20</offset>
            </li>
            <li>
              <capacity>Moving</capacity>
              <offset>0.33</offset>
            </li>
          </capMods>
          <statFactors>
            <Suppressability>0.1</Suppressability>
          </statFactors>
        </li>
        <li>
          <minSeverity>0.9375</minSeverity>
          <label>kicking in</label>
          <painFactor>0.5</painFactor>
          <restFallFactor>0.5</restFallFactor>
          <capMods>
            <li>
              <capacity>Consciousness</capacity>
              <offset>0.1</offset>
            </li>
            <li>
              <capacity>Sight</capacity>
              <offset>0.1</offset>
            </li>
            <li>
              <capacity>Moving</capacity>
              <offset>0.2</offset>
            </li>
          </capMods>
          <statFactors>
            <Suppressability>0.5</Suppressability>
          </statFactors>
        </li>
      </stages>
  </HediffDef>

  <ThoughtDef>
    <defName>PsychoHigh</defName>
    <workerClass>ThoughtWorker_Hediff</workerClass>
    <hediff>PsychoHigh</hediff>
    <validWhileDespawned>true</validWhileDespawned>
    <stages>
      <li>
        <label>coming down from psycho</label>
        <description>Something is wrong.</description>
        <baseMoodEffect>0</baseMoodEffect>
      </li>
      <li>
        <label>barely high on psycho</label>
        <description>I still feel so good.</description>
        <baseMoodEffect>20</baseMoodEffect>
      </li>
      <li>
        <label>high on psycho</label>
        <description>I AM GOD!</description>
        <baseMoodEffect>50</baseMoodEffect>
      </li>
      <li>
        <label>almost high on psycho</label>
        <description>I feel like a god.</description>
        <baseMoodEffect>40</baseMoodEffect>
      </li>
    </stages>
  </ThoughtDef>
  
  <HediffDef>
    <defName>PsychoCrash</defName>
    <label>psycho crash</label>
    <labelNoun>a psycho crash</labelNoun>
    <description>A very unpleasant delayed after-effect of psycho intake.</description>
    <hediffClass>HediffWithComps</hediffClass>
    <initialSeverity>1</initialSeverity>
    <scenarioCanAdd>false</scenarioCanAdd>
    <comps>
      <li Class="HediffCompProperties_SeverityPerDay">
        <severityPerDay>-0.5</severityPerDay>
      </li>
    </comps>
    <stages>
      <li>
        <label>recovering</label>
          <capMods>
            <li>
              <capacity>Consciousness</capacity>
              <offset>-0.2</offset>
            </li>
          </capMods>
      </li>
      <li>
        <minSeverity>0.2</minSeverity>
        <label>serious</label>
        <vomitMtbDays>0.5</vomitMtbDays>
          <capMods>
            <li>
              <capacity>Consciousness</capacity>
              <offset>-0.4</offset>
            </li>
          </capMods>
      </li>
      <li>
        <minSeverity>0.4</minSeverity>
        <label>extreme</label>
        <painFactor>0.1</painFactor>
        <vomitMtbDays>0.2</vomitMtbDays>
          <capMods>
            <li>
              <capacity>Consciousness</capacity>
              <setMax>0.1</setMax>
            </li>
          </capMods>
      </li>
      <li>
        <minSeverity>0.8</minSeverity>
        <label>initial</label>
        <vomitMtbDays>0.5</vomitMtbDays>
          <capMods>
            <li>
              <capacity>Consciousness</capacity>
              <offset>-0.1</offset>
            </li>
          </capMods>
      </li>
    </stages>
  </HediffDef>

  <ThoughtDef>
    <defName>Crashed</defName>
    <workerClass>ThoughtWorker_Hediff</workerClass>
    <hediff>PsychoCrash</hediff>
    <validWhileDespawned>true</validWhileDespawned>
    <stages>
      <li>
        <label>mild psycho comedown</label>
        <description>Let's not do this again...</description>
        <baseMoodEffect>-5</baseMoodEffect>
      </li>
      <li>
        <label>serious psycho comedown</label>
        <description>I might survive this after all.</description>
        <baseMoodEffect>-10</baseMoodEffect>
      </li>
      <li>
        <label>lethal psycho comedown</label>
        <description>It feels like I'm dying.</description>
        <baseMoodEffect>-20</baseMoodEffect>
      </li>
      <li>
        <label>initial psycho comedown</label>
        <description>I don't feel so good.</description>
        <baseMoodEffect>-5</baseMoodEffect>
      </li>
    </stages>
  </ThoughtDef>

</Defs>
